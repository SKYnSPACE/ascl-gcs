(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[538],{4284:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/map",function(){return r(4644)}])},442:function(e,t,r){"use strict";var i=r(5893),l=r(7294),s=r(9583);t.Z=function(){let[e,t]=(0,l.useState)(!1);return(0,i.jsx)("button",{className:"flex justify-center items-center w-7 h-7 border border-gray-400 text-gray-400 bg-white rounded hover:bg-gray-400 hover:text-white hover:border-gray-300",onClick:()=>{document.fullscreenElement?document.exitFullscreen&&(document.exitFullscreen(),t(!1)):(document.documentElement.requestFullscreen(),t(!0))},children:e?(0,i.jsx)(s.Y7H,{className:"h-4 w-4"}):(0,i.jsx)(s.a1O,{className:"h-4 w-4"})})}},4384:function(e,t,r){"use strict";var i=r(5893),l=r(7294);t.Z=l.memo(function(e){let{size:t=20,label:r,fillColor:l="fill-rose-500"}=e;return(0,i.jsxs)("div",{className:"flex flex-col items-center",children:[(0,i.jsx)("div",{children:(0,i.jsx)("svg",{height:t,viewBox:"0 0 24 24",className:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter(Boolean).join(" ")}("stroke-2 stroke-white",l),children:(0,i.jsx)("path",{d:"M20.2,15.7L20.2,15.7c1.1-1.6,1.8-3.6,1.8-5.7c0-5.6-4.5-10-10-10S2,4.5,2,10c0,2,0.6,3.9,1.6,5.4c0,0.1,0.1,0.2,0.2,0.3\n  c0,0,0.1,0.1,0.1,0.2c0.2,0.3,0.4,0.6,0.7,0.9c2.6,3.1,7.4,7.6,7.4,7.6s4.8-4.5,7.4-7.5c0.2-0.3,0.5-0.6,0.7-0.9\n  C20.1,15.8,20.2,15.8,20.2,15.7z"})})}),(0,i.jsx)("div",{className:"absolute ml-16 mt-5 px-1 bg-white/50",children:(0,i.jsx)("p",{className:"text-center text-black text-sm font-bold",children:r})})]})})},696:function(e,t,r){"use strict";r.d(t,{D3:function(){return n},gG:function(){return o},h9:function(){return a}});var i=r(2237),l=r(9696),s=r(8340);let n={latitude:37.557195,longitude:126.795112,altitudeAGL:0,speed:3,subPriority:0},o=[{id:"HOME",latitude:37.572098,longitude:126.773707,altitudeAGL:0,speed:5,priority:0,subPriority:0,icon:i.Z,color:"bg-rose-500",fillColor:"fill-rose-500"},{id:"WP_1",latitude:37.572098,longitude:126.773707,altitudeAGL:1e3,speed:15,priority:50,subPriority:1,icon:s.Z,color:"bg-blue-500",fillColor:"fill-blue-500"},{id:"WP_2",latitude:37.587943,longitude:126.827151,altitudeAGL:1e3,speed:20,priority:50,subPriority:2,icon:s.Z,color:"bg-blue-500",fillColor:"fill-blue-500"},{id:"WP_3",latitude:37.536468,longitude:126.914962,altitudeAGL:1e3,speed:25,priority:50,subPriority:3,icon:s.Z,color:"bg-blue-500",fillColor:"fill-blue-500"},{id:"WP_4",latitude:37.508751,longitude:126.980459,altitudeAGL:1e3,speed:20,priority:50,subPriority:4,icon:s.Z,color:"bg-blue-500",fillColor:"fill-blue-500"},{id:"WP_5",latitude:37.536798,longitude:127.026495,altitudeAGL:1e3,speed:15,priority:50,subPriority:5,icon:s.Z,color:"bg-blue-500",fillColor:"fill-blue-500"},{id:"WP_6",latitude:37.527455,longitude:127.058391,altitudeAGL:1e3,speed:10,priority:50,subPriority:6,icon:s.Z,color:"bg-blue-500",fillColor:"fill-blue-500"},{id:"DEST",latitude:37.511865,longitude:127.063515,altitudeAGL:0,speed:5,priority:100,subPriority:0,icon:l.LocationMarkerIcon,color:"bg-rose-500",fillColor:"fill-rose-500"}],a=[{id:"HOME",latitude:37.4604491,longitude:126.4441687,altitudeAGL:0,speed:3,priority:0,subPriority:0,icon:i.Z,color:"bg-rose-500",fillColor:"fill-rose-500"},{id:"TR_F",latitude:37.4604491,longitude:126.4441687,altitudeAGL:1e3,speed:3,priority:10,subPriority:0,icon:l.RefreshIcon,color:"bg-amber-500",fillColor:"fill-amber-500"},{id:"WP_1",latitude:37.499763,longitude:126.408383,altitudeAGL:1e3,speed:15,priority:50,subPriority:1,icon:s.Z,color:"bg-blue-500",fillColor:"fill-blue-500"},{id:"WP_2",latitude:37.557485,longitude:126.600064,altitudeAGL:1e3,speed:15,priority:50,subPriority:2,icon:s.Z,color:"bg-blue-500",fillColor:"fill-blue-500"},{id:"WP_3",latitude:37.570447,longitude:126.63851,altitudeAGL:1e3,speed:15,priority:50,subPriority:3,icon:s.Z,color:"bg-blue-500",fillColor:"fill-blue-500"},{id:"WP_4",latitude:37.574271,longitude:126.757715,altitudeAGL:1e3,speed:15,priority:50,subPriority:4,icon:s.Z,color:"bg-blue-500",fillColor:"fill-blue-500"},{id:"WP_5",latitude:37.602322,longitude:126.807035,altitudeAGL:1e3,speed:15,priority:50,subPriority:5,icon:s.Z,color:"bg-blue-500",fillColor:"fill-blue-500"},{id:"WP_6",latitude:37.507934,longitude:126.980449,altitudeAGL:1e3,speed:15,priority:50,subPriority:6,icon:s.Z,color:"bg-blue-500",fillColor:"fill-blue-500"},{id:"WP_7",latitude:37.537012,longitude:127.026548,altitudeAGL:1e3,speed:15,priority:50,subPriority:7,icon:s.Z,color:"bg-blue-500",fillColor:"fill-blue-500"},{id:"WP_8",latitude:37.529701,longitude:127.055958,altitudeAGL:1e3,speed:15,priority:50,subPriority:8,icon:s.Z,color:"bg-blue-500",fillColor:"fill-blue-500"},{id:"TR_B",latitude:37.512388,longitude:127.063284,altitudeAGL:1e3,speed:3,priority:90,subPriority:0,icon:l.RefreshIcon,color:"bg-amber-500",fillColor:"fill-amber-500"},{id:"DEST",latitude:37.512388,longitude:127.063284,altitudeAGL:0,speed:3,priority:100,subPriority:0,icon:l.LocationMarkerIcon,color:"bg-rose-500",fillColor:"fill-rose-500"}]},4644:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return ea}});var i,l,s,n=r(5893),o=r(7294),a=r(4285),d=r(2984),u=r(7237),c=r(9362),m=r(4192),x=r(6723),p=r(3784),g=r(9946),f=r(1363),h=r(1497),y=r(4103),b=r(4575),v=r(9650),w=r(1591),j=r(6567),N=r(4157),k=r(1074),P=r(4919),I=r(476),C=((i=C||{})[i.Open=0]="Open",i[i.Closed=1]="Closed",i),L=((l=L||{})[l.Pointer=0]="Pointer",l[l.Other=1]="Other",l),R=((s=R||{})[s.OpenMenu=0]="OpenMenu",s[s.CloseMenu=1]="CloseMenu",s[s.GoToItem=2]="GoToItem",s[s.Search=3]="Search",s[s.ClearSearch=4]="ClearSearch",s[s.RegisterItem=5]="RegisterItem",s[s.UnregisterItem=6]="UnregisterItem",s);function S(e,t=e=>e){let r=null!==e.activeItemIndex?e.items[e.activeItemIndex]:null,i=(0,b.z2)(t(e.items.slice()),e=>e.dataRef.current.domRef.current),l=r?i.indexOf(r):null;return -1===l&&(l=null),{items:i,activeItemIndex:l}}let M={1:e=>1===e.menuState?e:{...e,activeItemIndex:null,menuState:1},0:e=>0===e.menuState?e:{...e,menuState:0},2:(e,t)=>{var r;let i=S(e),l=(0,h.d)(t,{resolveItems:()=>i.items,resolveActiveIndex:()=>i.activeItemIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});return{...e,...i,searchQuery:"",activeItemIndex:l,activationTrigger:null!=(r=t.trigger)?r:1}},3:(e,t)=>{let r=""!==e.searchQuery?0:1,i=e.searchQuery+t.value.toLowerCase(),l=(null!==e.activeItemIndex?e.items.slice(e.activeItemIndex+r).concat(e.items.slice(0,e.activeItemIndex+r)):e.items).find(e=>{var t;return(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(i))&&!e.dataRef.current.disabled}),s=l?e.items.indexOf(l):-1;return -1===s||s===e.activeItemIndex?{...e,searchQuery:i}:{...e,searchQuery:i,activeItemIndex:s,activationTrigger:1}},4:e=>""===e.searchQuery?e:{...e,searchQuery:"",searchActiveItemIndex:null},5:(e,t)=>{let r=S(e,e=>[...e,{id:t.id,dataRef:t.dataRef}]);return{...e,...r}},6:(e,t)=>{let r=S(e,e=>{let r=e.findIndex(e=>e.id===t.id);return -1!==r&&e.splice(r,1),e});return{...e,...r,activationTrigger:1}}},D=(0,o.createContext)(null);function T(e){let t=(0,o.useContext)(D);if(null===t){let t=Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,T),t}return t}function E(e,t){return(0,d.E)(t.type,M,e,t)}D.displayName="MenuContext";let A=o.Fragment,G=u.AN.RenderStrategy|u.AN.Static,F=o.Fragment,Z=Object.assign((0,u.yV)(function(e,t){let r=(0,o.useReducer)(E,{menuState:1,buttonRef:(0,o.createRef)(),itemsRef:(0,o.createRef)(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:i,itemsRef:l,buttonRef:s},n]=r,a=(0,p.T)(t);(0,v.O)([s,l],(e,t)=>{var r;n({type:1}),(0,b.sP)(t,b.tJ.Loose)||(e.preventDefault(),null==(r=s.current)||r.focus())},0===i);let c=(0,P.z)(()=>{n({type:1})}),m=(0,o.useMemo)(()=>({open:0===i,close:c}),[i,c]);return o.createElement(D.Provider,{value:r},o.createElement(j.up,{value:(0,d.E)(i,{0:j.ZM.Open,1:j.ZM.Closed})},(0,u.sY)({ourProps:{ref:a},theirProps:e,slot:m,defaultTag:A,name:"Menu"})))}),{Button:(0,u.yV)(function(e,t){var r;let i=(0,g.M)(),{id:l=`headlessui-menu-button-${i}`,...s}=e,[n,a]=T("Menu.Button"),d=(0,p.T)(n.buttonRef,t),c=(0,m.G)(),x=(0,P.z)(e=>{switch(e.key){case f.R.Space:case f.R.Enter:case f.R.ArrowDown:e.preventDefault(),e.stopPropagation(),a({type:0}),c.nextFrame(()=>a({type:2,focus:h.T.First}));break;case f.R.ArrowUp:e.preventDefault(),e.stopPropagation(),a({type:0}),c.nextFrame(()=>a({type:2,focus:h.T.Last}))}}),b=(0,P.z)(e=>{e.key===f.R.Space&&e.preventDefault()}),v=(0,P.z)(t=>{if((0,y.P)(t.currentTarget))return t.preventDefault();e.disabled||(0===n.menuState?(a({type:1}),c.nextFrame(()=>{var e;return null==(e=n.buttonRef.current)?void 0:e.focus({preventScroll:!0})})):(t.preventDefault(),a({type:0})))}),w=(0,o.useMemo)(()=>({open:0===n.menuState}),[n]),j={ref:d,id:l,type:(0,N.f)(e,n.buttonRef),"aria-haspopup":"menu","aria-controls":null==(r=n.itemsRef.current)?void 0:r.id,"aria-expanded":e.disabled?void 0:0===n.menuState,onKeyDown:x,onKeyUp:b,onClick:v};return(0,u.sY)({ourProps:j,theirProps:s,slot:w,defaultTag:"button",name:"Menu.Button"})}),Items:(0,u.yV)(function(e,t){var r,i;let l=(0,g.M)(),{id:s=`headlessui-menu-items-${l}`,...n}=e,[a,d]=T("Menu.Items"),x=(0,p.T)(a.itemsRef,t),y=(0,k.i)(a.itemsRef),v=(0,m.G)(),N=(0,j.oJ)(),I=null!==N?(N&j.ZM.Open)===j.ZM.Open:0===a.menuState;(0,o.useEffect)(()=>{let e=a.itemsRef.current;e&&0===a.menuState&&e!==(null==y?void 0:y.activeElement)&&e.focus({preventScroll:!0})},[a.menuState,a.itemsRef,y]),(0,w.B)({container:a.itemsRef.current,enabled:0===a.menuState,accept:e=>"menuitem"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT,walk(e){e.setAttribute("role","none")}});let C=(0,P.z)(e=>{var t,r;switch(v.dispose(),e.key){case f.R.Space:if(""!==a.searchQuery)return e.preventDefault(),e.stopPropagation(),d({type:3,value:e.key});case f.R.Enter:if(e.preventDefault(),e.stopPropagation(),d({type:1}),null!==a.activeItemIndex){let{dataRef:e}=a.items[a.activeItemIndex];null==(r=null==(t=e.current)?void 0:t.domRef.current)||r.click()}(0,b.wI)(a.buttonRef.current);break;case f.R.ArrowDown:return e.preventDefault(),e.stopPropagation(),d({type:2,focus:h.T.Next});case f.R.ArrowUp:return e.preventDefault(),e.stopPropagation(),d({type:2,focus:h.T.Previous});case f.R.Home:case f.R.PageUp:return e.preventDefault(),e.stopPropagation(),d({type:2,focus:h.T.First});case f.R.End:case f.R.PageDown:return e.preventDefault(),e.stopPropagation(),d({type:2,focus:h.T.Last});case f.R.Escape:e.preventDefault(),e.stopPropagation(),d({type:1}),(0,c.k)().nextFrame(()=>{var e;return null==(e=a.buttonRef.current)?void 0:e.focus({preventScroll:!0})});break;case f.R.Tab:e.preventDefault(),e.stopPropagation(),d({type:1}),(0,c.k)().nextFrame(()=>{(0,b.EO)(a.buttonRef.current,e.shiftKey?b.TO.Previous:b.TO.Next)});break;default:1===e.key.length&&(d({type:3,value:e.key}),v.setTimeout(()=>d({type:4}),350))}}),L=(0,P.z)(e=>{e.key===f.R.Space&&e.preventDefault()}),R=(0,o.useMemo)(()=>({open:0===a.menuState}),[a]),S={"aria-activedescendant":null===a.activeItemIndex||null==(r=a.items[a.activeItemIndex])?void 0:r.id,"aria-labelledby":null==(i=a.buttonRef.current)?void 0:i.id,id:s,onKeyDown:C,onKeyUp:L,role:"menu",tabIndex:0,ref:x};return(0,u.sY)({ourProps:S,theirProps:n,slot:R,defaultTag:"div",features:G,visible:I,name:"Menu.Items"})}),Item:(0,u.yV)(function(e,t){let r=(0,g.M)(),{id:i=`headlessui-menu-item-${r}`,disabled:l=!1,...s}=e,[n,a]=T("Menu.Item"),d=null!==n.activeItemIndex&&n.items[n.activeItemIndex].id===i,m=(0,o.useRef)(null),f=(0,p.T)(t,m);(0,x.e)(()=>{if(0!==n.menuState||!d||0===n.activationTrigger)return;let e=(0,c.k)();return e.requestAnimationFrame(()=>{var e,t;null==(t=null==(e=m.current)?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})}),e.dispose},[m,d,n.menuState,n.activationTrigger,n.activeItemIndex]);let y=(0,o.useRef)({disabled:l,domRef:m});(0,x.e)(()=>{y.current.disabled=l},[y,l]),(0,x.e)(()=>{var e,t;y.current.textValue=null==(t=null==(e=m.current)?void 0:e.textContent)?void 0:t.toLowerCase()},[y,m]),(0,x.e)(()=>(a({type:5,id:i,dataRef:y}),()=>a({type:6,id:i})),[y,i]);let v=(0,P.z)(()=>{a({type:1})}),w=(0,P.z)(e=>{if(l)return e.preventDefault();a({type:1}),(0,b.wI)(n.buttonRef.current)}),j=(0,P.z)(()=>{if(l)return a({type:2,focus:h.T.Nothing});a({type:2,focus:h.T.Specific,id:i})}),N=(0,I.g)(),k=(0,P.z)(e=>N.update(e)),C=(0,P.z)(e=>{N.wasMoved(e)&&(l||d||a({type:2,focus:h.T.Specific,id:i,trigger:0}))}),L=(0,P.z)(e=>{N.wasMoved(e)&&(l||d&&a({type:2,focus:h.T.Nothing}))}),R=(0,o.useMemo)(()=>({active:d,disabled:l,close:v}),[d,l,v]);return(0,u.sY)({ourProps:{id:i,ref:f,role:"menuitem",tabIndex:!0===l?void 0:-1,"aria-disabled":!0===l||void 0,disabled:void 0,onClick:w,onFocus:j,onPointerEnter:k,onMouseEnter:k,onPointerMove:C,onMouseMove:C,onPointerLeave:L,onMouseLeave:L},theirProps:s,slot:R,defaultTag:F,name:"Menu.Item"})})});var _=r(4308),z=r(2237),O=r(1415),W=r(4475),B=r(7950),V=r(6947),H=r(6249),Q=r(8340),J=r(2643),Y=r(9396);let U=o.forwardRef(function({title:e,titleId:t,...r},i){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:i,"aria-labelledby":t},r),e?o.createElement("title",{id:t},e):null,o.createElement("path",{fillRule:"evenodd",d:"M12.53 16.28a.75.75 0 01-1.06 0l-7.5-7.5a.75.75 0 011.06-1.06L12 14.69l6.97-6.97a.75.75 0 111.06 1.06l-7.5 7.5z",clipRule:"evenodd"}))});var K=r(7106),X=r(6486),$=r.n(X),q=r(3403);r(4472);var ee=r(8866),et=r(6716),er=r(1335),ei=r(2771);r(9008);var el=r(4384),es=r(696),en=r(442);function eo(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter(Boolean).join(" ")}function ea(){let[e,t]=(0,o.useState)({width:void 0,height:void 0}),r=(0,o.useRef)(null);(0,o.useEffect)(()=>{let e=()=>{t({width:window.innerWidth,height:window.innerHeight}),l(e=>{let t={...e,width:window.innerWidth,height:window.innerHeight};return r.current=new ee.DW(t),t})};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let[i,l]=(0,o.useState)({width:"100vw",height:"100vh",latitude:36.3754605,longitude:127.3606474,zoom:16,bearing:0,pitch:25,...e}),[s,d]=(0,o.useState)({maxPitch:85});(0,o.useEffect)(()=>{r.current=new ee.DW({...i,width:e.width,height:e.height})},[i]);let[u,c]=(0,o.useState)([]),[m,x]=(0,o.useState)(0),p={type:"Feature",properties:{},geometry:{type:"LineString",coordinates:u.map(e=>[e.longitude,e.latitude])}},g=()=>{let e=er.TuJ(u.map(e=>[parseFloat(e.longitude),parseFloat(e.latitude)]));x(parseFloat(er.kE(e,{units:"kilometers"})).toPrecision(4))},f=(0,o.useCallback)(e=>{},[]),h=(0,o.useCallback)((e,t)=>{let r=[{...u.find(e=>e.id===t),latitude:parseFloat(e.lngLat.lat).toPrecision(8),longitude:parseFloat(e.lngLat.lng).toPrecision(9)}],i=u.map(e=>r.find(t=>t.id===e.id)||e);c(i)},[u]),y=(0,o.useCallback)(e=>{},[]),[b,v]=(0,o.useState)(""),w=""===b?[]:u.filter(e=>e.id.toLowerCase().includes(b.toLowerCase())),[j,N]=(0,o.useState)(!1),[k,P]=(0,o.useState)(!1),[I,C]=(0,o.useState)({id:"HOME",latitude:37.4604491,longitude:126.4441687,altitudeAGL:0,speed:3,priority:0,subPriority:1,icon:z.Z,color:"bg-rose-500",fillColor:"fill-rose-500"}),[L,R]=(0,o.useState)(!1),[S,M]=(0,o.useState)({lngLat:[0,0]}),[D,T]=(0,o.useState)({visible:!1,x:0,y:0,lngLat:[0,0]}),E=(e,t)=>{C(e),P(!0)},A=(e,t,r)=>[...r.slice(0,e),t,...r.slice(e)],G=e=>{e.preventDefault()},F=()=>{let e=$().findLastIndex(u,{priority:50}),t={};return 0!=D.lngLat[0]&&0!=D.lngLat[1]?((t=-1==e?{...u[parseInt(u.length/2)-1]||es.D3}:{...u[e]}).latitude=D.lngLat[1].toFixed(8),t.longitude=D.lngLat[0].toFixed(8)):t=-1==e?{...u[parseInt(u.length/2)-1]||es.D3}:{...u[e]},t.id="WP_".concat(t.subPriority+1),t.priority=50,t.subPriority=t.subPriority+1,t.icon=Q.Z,t.color="bg-blue-500",t.fillColor="fill-blue-500",-1==e?c([...A(parseInt(u.length/2),t,u)]):c([...A(e+1,t,u)]),t},X=e=>{e.preventDefault(),C(F()),P(!0)},ea=(e,t)=>{let r=$().findLastIndex(t,{priority:50});for(let i=e;i<=r;++i)t[i].id="WP_".concat(t[i].subPriority-1),t[i].subPriority-=1;c(t)},ed=(e,t)=>{t.preventDefault();let r=$().findIndex(u,{id:e.id}),i=$().cloneDeep(u);i.splice(r,1),ea(r,i),P(!1)},eu=()=>{let e=$().findIndex(u,{priority:50}),t=$().findLastIndex(u,{priority:50});if(-1!=e&&-1!=t){let r=[...u];r.splice(e,t-e+1),c(r),x(0)}},ec=(e,t)=>{t.preventDefault();let r=$().findIndex(u,{id:e.id}),i=t.target.parentElement.parentElement.children,l=i[0].children[1].value,s=i[1].children[1].value,n=i[2].children[1].value,o=i[3].children[1].value,a=[...u];a[r].latitude=!l||isNaN(l)?a[r].latitude:l,a[r].longitude=!s||isNaN(s)?a[r].longitude:s,a[r].altitudeAGL=!n||isNaN(n)?a[r].altitudeAGL:n,a[r].speed=!o||isNaN(o)?a[r].speed:o,c(a),P(!1)};return(0,o.useEffect)(()=>{},[]),(0,o.useEffect)(()=>{void 0!=u&&u.length>1&&g()},[u]),(0,n.jsxs)("div",{className:"flex items-stretch h-screen w-screen min-h-screen",children:[(0,n.jsxs)("div",{className:"relative w-full h-full",onContextMenu:t=>{if(t.preventDefault(),!L){let{clientX:r,clientY:l}=t,s=new ee.DW({...i,width:e.width,height:e.height}),n=s.unproject([r,l]);console.log(n),T({visible:!0,x:t.clientX,y:t.clientY,lngLat:n})}},onClick:()=>{T({visible:!1,x:0,y:0,lngLat:[0,0]})},onMouseDown:()=>{R(!1)},onMouseMove:e=>{R(!0);let{clientX:t,clientY:i}=e;if(r.current){let e=r.current.unproject([t,i]),l=et.eH(e,5),s="".concat(l.slice(0,3)," ").concat(l.slice(3,5)," ").concat(l.slice(5,10)," ").concat(l.slice(10,15));M({lngLat:e,mgrs:s})}},children:[(0,n.jsxs)(q.ZP,{...s,...i,mapStyle:"mapbox://styles/skynspace/cl1w18kj2000q14ujwxgkmfgo",mapboxAccessToken:"pk.eyJ1Ijoic2t5bnNwYWNlIiwiYSI6ImNsMXcweGpsdDJvMDczam10aHJtc2piZXIifQ.hV1Q4U1pTDPE1gyanslMxQ",terrain:{source:"mapbox-dem",exaggeration:1.5},maxPitch:85,onMove:e=>l(e.viewState),onViewportChange:t=>{r.current=new ee.DW({...t,width:e.width,height:e.height}),l({...t,...e})},children:[(0,n.jsx)(q.Hw,{id:"mapbox-dem",type:"raster-dem",url:"mapbox://mapbox.mapbox-terrain-dem-v1",tileSize:512,maxzoom:14}),u.map(e=>(console.log(e.id,e.latitude),(0,n.jsx)(q.Jx,{longitude:e.longitude,latitude:e.latitude,anchor:"bottom",draggable:!0,onDragStart:f,onDrag:t=>{h(t,e.id)},onDragEnd:y,onClick:t=>E(e,t),children:(0,n.jsx)(el.Z,{size:22,label:e.id,fillColor:e.fillColor})},e.id))),(0,n.jsx)(q.Hw,{id:"polylineLayer",type:"geojson",data:p,children:(0,n.jsx)(q.mh,{id:"lineLayer",type:"line",source:"my-data",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"rgba(219, 39, 119, 0.6)","line-width":10}})})]}),D.visible&&(0,n.jsxs)("div",{className:"fixed",style:{top:D.y,left:D.x},children:[(0,n.jsx)(O.Z,{className:"-mx-4 -my-4 w-8 h-8 text-gray-900 bg-white/60 rounded-t-2xl rounded-bl-2xl"}),(0,n.jsxs)("div",{className:"mx-4 my-4 bg-gray-950 shadow-xl rounded-md ring-1 ring-gray-400 divide-y divide-gray-300",children:[(0,n.jsxs)("button",{className:"group flex w-full text-sm rounded-t-md cursor-pointer px-2 py-1 text-gray-300 hover:bg-gray-200 hover:text-gray-900",onClick:e=>X(e),children:[(0,n.jsx)("span",{className:eo("text-gray-900 border-gray-200 group-hover:border-sky-500 group-hover:text-sky-500","flex h-6 w-6 shrink-0 items-center justify-center rounded-lg border text-[0.625rem] font-medium bg-white"),children:"⌘W"}),(0,n.jsx)("span",{className:"ml-2 group-hover:border-sky-600 group-hover:text-sky-600",children:"Add waypoint here"})]}),(0,n.jsxs)("p",{className:"group flex text-sm cursor-pointer px-2 py-1 text-gray-300 hover:bg-gray-200 hover:text-gray-900",onClick:e=>G(e),children:[(0,n.jsx)("span",{className:eo("text-gray-900 border-gray-200 group-hover:border-sky-500 group-hover:text-sky-500","flex h-6 w-6 shrink-0 items-center justify-center rounded-lg border text-[0.625rem] font-medium bg-white"),children:"⌘H"}),(0,n.jsx)("span",{className:"ml-2 group-hover:border-sky-500 group-hover:text-sky-500",children:"Mark as home-position"})]}),(0,n.jsxs)("p",{className:"group flex text-sm cursor-pointer px-2 py-1 text-gray-300 hover:bg-gray-200 hover:text-gray-900",children:[(0,n.jsx)("span",{className:eo("text-gray-900 border-gray-200 group-hover:border-sky-500 group-hover:text-sky-500","flex h-6 w-6 shrink-0 items-center justify-center rounded-lg border text-[0.625rem] font-medium bg-white"),children:"⌘D"}),(0,n.jsx)("span",{className:"ml-2 group-hover:border-sky-500 group-hover:text-sky-500",children:"Mark as destination"})]}),(0,n.jsxs)("p",{className:"group flex text-sm rounded-b-md cursor-pointer px-2 py-1 text-gray-300 hover:bg-gray-200 hover:text-gray-900",children:[(0,n.jsx)("span",{className:eo("text-gray-900 border-gray-200 group-hover:border-sky-500 group-hover:text-sky-500","flex h-6 w-6 shrink-0 items-center justify-center rounded-lg border text-[0.625rem] font-medium bg-white"),children:"⌘?"}),(0,n.jsx)("span",{className:"ml-2 group-hover:border-sky-500 group-hover:text-sky-500",children:"Where is this?"})]})]})]}),(0,n.jsxs)("div",{className:"absolute top-4 left-4 flex flex-col",children:[(0,n.jsxs)("span",{className:"relative z-0 inline-flex shadow-sm rounded-md",children:[(0,n.jsxs)("button",{type:"button",className:"relative inline-flex items-center w-24 px-2 py-1 rounded-l-md border border-gray-300 bg-white text-xs font-medium text-gray-700",children:[(0,n.jsx)(J.Z,{className:"-ml-1 mr-2 h-5 w-5 text-gray-400","aria-hidden":"true"}),"Distance"]}),(0,n.jsxs)("button",{type:"button",className:"-ml-px relative inline-flex items-center w-12 px-2 py-1 rounded-r-md border border-gray-300 bg-white text-xs font-medium text-gray-700",children:[m," km"]})]}),(0,n.jsxs)("div",{className:"flex w-36 mt-1 rounded-md border border-gray-300 bg-white text-xs font-medium text-gray-700",children:[(0,n.jsx)(W.Z,{className:"h-5 w-5 text-gray-400"}),(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsxs)("span",{className:"ml-1",children:["Lat: ",S.lngLat[1].toFixed(8)]}),(0,n.jsxs)("span",{className:"ml-1",children:["Lon: ",S.lngLat[0].toFixed(8)]})]})]}),(0,n.jsxs)("div",{className:"flex w-36 mt-1 rounded-md border border-gray-300 bg-white text-xs font-medium text-gray-700",children:[(0,n.jsx)(B.Z,{className:"h-5 w-5 text-gray-400"}),(0,n.jsx)("div",{className:"flex flex-col",children:(0,n.jsx)("span",{className:"ml-1",children:S.mgrs})})]})]}),(0,n.jsxs)("div",{className:"absolute top-8 right-8 w-72",children:[(0,n.jsxs)(a.h,{as:"div",className:"mx-auto max-w-xl transform divide-y divide-gray-100 overflow-hidden rounded-xl bg-white shadow-2xl ring-1 ring-black ring-opacity-5 transition-all",onChange:e=>{},children:[(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(Y.Z,{className:"pointer-events-none absolute top-3.5 left-4 h-5 w-5 text-gray-400","aria-hidden":"true"}),(0,n.jsx)(a.h.Input,{className:"h-12 w-full border-0 bg-transparent pl-11 pr-4 text-gray-800 placeholder-gray-400 focus:ring-0 sm:text-sm",placeholder:"Search...",onChange:e=>v(e.target.value)})]}),w.length>0&&(0,n.jsx)(a.h.Options,{static:!0,className:"max-h-64 scroll-py-3 overflow-y-auto p-3",children:w.map(e=>(0,n.jsx)(a.h.Option,{value:e,className:e=>{let{active:t}=e;return eo("flex cursor-default select-none rounded-xl p-3",t&&"bg-gray-100")},children:t=>{let{active:r}=t;return(0,n.jsxs)("div",{className:"w-64 flex",onClick:t=>E(e,t),children:[(0,n.jsx)("div",{className:eo("flex h-10 w-10 flex-none items-center justify-center rounded-lg",e.color),children:(0,n.jsx)(e.icon,{className:"h-6 w-6 text-white","aria-hidden":"true"})}),(0,n.jsxs)("div",{className:"ml-4 flex-auto",children:[(0,n.jsx)("p",{className:eo("text-sm font-medium",r?"text-gray-900":"text-gray-700"),children:e.id}),(0,n.jsxs)("p",{className:eo("text-xs",r?"text-gray-700":"text-gray-500"),children:["(",e.latitude,", ",e.longitude,")"]}),(0,n.jsxs)("p",{className:eo("text-xs text-right",r?"text-gray-700":"text-gray-500"),children:[e.altitudeAGL,"m AGL"]})]})]})}},e.id))}),0===w.length&&(""===b?(0,n.jsx)(a.h.Options,{static:!0,className:"max-h-64 scroll-py-3 overflow-y-auto p-3",children:u.map(e=>(0,n.jsx)(a.h.Option,{value:e,className:e=>{let{active:t}=e;return eo("flex cursor-default select-none rounded-xl p-3",t&&"bg-gray-100")},children:t=>{let{active:r}=t;return(0,n.jsxs)("div",{className:"w-72 flex",onClick:t=>E(e,t),children:[(0,n.jsx)("div",{className:eo("flex h-10 w-10 flex-none items-center justify-center rounded-lg",e.color),children:(0,n.jsx)(e.icon,{className:"h-6 w-6 text-white","aria-hidden":"true"})}),(0,n.jsxs)("div",{className:"ml-4 flex-auto",children:[(0,n.jsx)("p",{className:eo("text-sm font-medium",r?"text-gray-900":"text-gray-700"),children:e.id}),(0,n.jsxs)("p",{className:eo("text-xs",r?"text-gray-700":"text-gray-500"),children:["(",e.latitude,", ",e.longitude,")"]}),(0,n.jsxs)("p",{className:eo("text-xs text-right",r?"text-gray-700":"text-gray-500"),children:[e.altitudeAGL,"m AGL"]})]})]})}},e.id))}):(0,n.jsxs)("div",{className:"py-14 px-6 w-72 text-center text-sm",children:[(0,n.jsx)(V.Z,{type:"outline",name:"exclamation-circle",className:"mx-auto h-6 w-6 text-gray-400"}),(0,n.jsx)("p",{className:"mt-4 font-semibold text-gray-900",children:"No results found"}),(0,n.jsx)("p",{className:"mt-2 text-gray-500",children:"No components found for this search term. Please try again."})]}))]}),(0,n.jsxs)(Z,{as:"div",className:"absolute right-18 mt-2 inline-block text-left",children:[(0,n.jsx)("div",{children:(0,n.jsxs)(Z.Button,{className:"inline-flex justify-center w-full rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 focus:ring-[#a36b4f]",children:["Load",(0,n.jsx)(U,{className:"-mr-1 ml-2 h-5 w-5","aria-hidden":"true"})]})}),(0,n.jsx)(Z.Items,{className:"origin-top-right absolute right-0 mt-2 w-52 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 divide-y divide-gray-100 focus:outline-none",children:(0,n.jsxs)("div",{className:"py-1",children:[(0,n.jsx)(Z.Item,{children:e=>{let{active:t}=e;return(0,n.jsxs)("button",{className:eo(t?"bg-gray-100 text-gray-900":"text-gray-700","group flex w-full items-center px-4 py-2 text-sm"),onClick:()=>{c($().cloneDeep(es.gG))},children:[(0,n.jsx)(K.kE8,{className:"mr-3 h-5 w-5 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"}),"Multirotor Path"]})}}),(0,n.jsx)(Z.Item,{children:e=>{let{active:t}=e;return(0,n.jsxs)("button",{className:eo(t?"bg-gray-100 text-gray-900":"text-gray-700","group flex w-full items-center px-4 py-2 text-sm"),onClick:()=>{c($().cloneDeep(es.h9))},children:[(0,n.jsx)(K.tTB,{className:"mr-3 h-5 w-5 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"}),"Tiltrotor Path"]})}})]})})]})]}),(0,n.jsxs)("div",{className:"absolute bottom-8 right-4",children:[(0,n.jsx)("button",{className:"relative inline-flex justify-center items-center w-7 mb-2 py-1 rounded-b-md border border-gray-300 bg-white text-xs font-medium text-gray-700",onClick:e=>eu(e),children:(0,n.jsx)(H.Z,{className:"h-4 w-4 text-gray-400","aria-hidden":"true"})}),(0,n.jsx)(en.Z,{className:"relative inline-flex"})]}),(0,n.jsxs)("div",{className:"absolute bottom-0 flex inset-x-80 items-center justify-center bg-neutral-900 rounded-t-2xl border border-gray-300",children:[(0,n.jsx)(ei.Mo,{size:"200px",showBox:!1,turn:10}),(0,n.jsx)(ei.lY,{size:"200px",showBox:!1,speed:50}),(0,n.jsx)(ei.kB,{size:"200px",showBox:!1,roll:-10,pitch:5}),(0,n.jsx)(ei.aB,{size:"200px",showBox:!1,altitude:1500}),(0,n.jsx)(ei.J8,{size:"200px",showBox:!1,vario:350})]})]}),(0,n.jsx)(_.V,{as:"div",className:"fixed z-10 inset-0 overflow-y-auto",open:k,onClose:()=>P(!1),children:(0,n.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-32 px-4 pb-20 text-center sm:block",children:[(0,n.jsx)(_.V.Overlay,{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"}),(0,n.jsxs)("div",{className:"relative inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-sm sm:w-full sm:p-6",children:[(0,n.jsx)("div",{className:eo("mx-auto flex items-center justify-center h-12 w-12 rounded-full",I.color),children:(0,n.jsx)(I.icon,{className:"h-6 w-6 text-white","aria-hidden":"true"})}),(0,n.jsx)("div",{className:"mt-3 text-center sm:mt-5",children:(0,n.jsx)(_.V.Title,{as:"h3",className:"text-lg leading-6 font-medium text-gray-900",children:I.id})}),(0,n.jsx)(_.V.Description,{className:"mt-4 text-gray-500",children:"Replace latitude, longitude, altitude, and speed to change the waypoint."}),(0,n.jsxs)("div",{className:"mt-5 flex flex-col items-center",children:[(0,n.jsxs)("div",{className:"w-full",children:[(0,n.jsx)("label",{htmlFor:"latitude",className:"text-sm text-gray-700",children:"Latitude [deg]"}),(0,n.jsx)("input",{type:"text",name:"latitude",id:"latitude",className:"my-1 px-1 py-1 text-sm text-gray-700 shadow-sm border focus:ring-sky-500 focus:border-sky-500 block w-full border-gray-300 rounded-md",placeholder:I.latitude})]}),(0,n.jsxs)("div",{className:"w-full",children:[(0,n.jsx)("label",{htmlFor:"longitude",className:"text-sm text-gray-700",children:"Longitude [deg]"}),(0,n.jsx)("input",{type:"text",name:"longitude",id:"longitude",className:"my-1 px-1 py-1 text-sm text-gray-700 shadow-sm border focus:ring-sky-500 focus:border-sky-500 block w-full border-gray-300 rounded-md",placeholder:I.longitude})]}),(0,n.jsxs)("div",{className:"w-full",children:[(0,n.jsx)("label",{htmlFor:"altitude",className:"text-sm text-gray-700",children:"Altitude [m, AGL]"}),(0,n.jsx)("input",{type:"text",name:"altitude",id:"altitude",className:"my-1 px-1 py-1 text-sm text-gray-700 shadow-sm border focus:ring-sky-500 focus:border-sky-500 block w-full border-gray-300 rounded-md",placeholder:I.altitudeAGL})]}),(0,n.jsxs)("div",{className:"w-full",children:[(0,n.jsx)("label",{htmlFor:"speed",className:"text-sm text-gray-700",children:"Speed [m/s]"}),(0,n.jsx)("input",{type:"text",name:"speed",id:"speed",className:"my-1 px-1 py-1 text-sm text-gray-700 shadow-sm border focus:ring-sky-500 focus:border-sky-500 block w-full border-gray-300 rounded-md",placeholder:I.speed})]}),(0,n.jsxs)("div",{className:"mt-5 sm:mt-6",children:[(0,n.jsx)("button",{className:"mx-1 inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-[#002c5f] text-base font-medium text-white hover:bg-[#aacae6] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#002c5f] sm:text-sm",onClick:e=>ec(I,e),children:"Modify"}),(0,n.jsx)("button",{className:"mx-1 inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#002c5f]   sm:text-sm",onClick:()=>P(!1),children:"Cancel"})]})]}),I.id.includes("WP_")?(0,n.jsx)("div",{className:"mt-5 sm:mt-6",children:(0,n.jsx)("button",{className:"inline-flex justify-center w-full px-4 py-2 border border-transparent font-medium rounded-md text-red-700 bg-red-100 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",onClick:e=>ed(I,e),children:"Delete Waypoint"})}):(0,n.jsx)("div",{})]})]})})]})}},4472:function(){},9008:function(e,t,r){r(2636)}},function(e){e.O(0,[445,715,662,907,154,421,312,774,888,179],function(){return e(e.s=4284)}),_N_E=e.O()}]);