(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[875],{630:function(e,t,_){(window.__NEXT_P=window.__NEXT_P||[]).push(["/map2",function(){return _(4876)}])},5677:function(e,t,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var _ in t)Object.defineProperty(e,_,{enumerable:!0,get:t[_]})}(t,{noSSR:function(){return i},default:function(){return r}});let a=_(8754),o=(_(7294),a._(_(8976)));function l(e){return{default:(null==e?void 0:e.default)||e}}function i(e,t){return delete t.webpack,delete t.modules,e(t)}function r(e,t){let _=o.default,a={loading:e=>{let{error:t,isLoading:_,pastDelay:a}=e;return null}};e instanceof Promise?a.loader=()=>e:"function"==typeof e?a.loader=e:"object"==typeof e&&(a={...a,...e}),a={...a,...t};let r=a.loader;return(a.loadableGenerated&&(a={...a,...a.loadableGenerated},delete a.loadableGenerated),"boolean"!=typeof a.ssr||a.ssr)?_({...a,loader:()=>null!=r?r().then(l):Promise.resolve(l(()=>null))}):(delete a.webpack,delete a.modules,i(_,a))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},2254:function(e,t,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"LoadableContext",{enumerable:!0,get:function(){return l}});let a=_(8754),o=a._(_(7294)),l=o.default.createContext(null)},8976:function(e,t,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return d}});let a=_(8754),o=a._(_(7294)),l=_(2254),i=[],r=[],n=!1;function T(e){let t=e(),_={loading:!0,loaded:null,error:null};return _.promise=t.then(e=>(_.loading=!1,_.loaded=e,e)).catch(e=>{throw _.loading=!1,_.error=e,e}),_}class s{promise(){return this._res.promise}retry(){this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};let{_res:e,_opts:t}=this;e.loading&&("number"==typeof t.delay&&(0===t.delay?this._state.pastDelay=!0:this._delay=setTimeout(()=>{this._update({pastDelay:!0})},t.delay)),"number"==typeof t.timeout&&(this._timeout=setTimeout(()=>{this._update({timedOut:!0})},t.timeout))),this._res.promise.then(()=>{this._update({}),this._clearTimeouts()}).catch(e=>{this._update({}),this._clearTimeouts()}),this._update({})}_update(e){this._state={...this._state,error:this._res.error,loaded:this._res.loaded,loading:this._res.loading,...e},this._callbacks.forEach(e=>e())}_clearTimeouts(){clearTimeout(this._delay),clearTimeout(this._timeout)}getCurrentValue(){return this._state}subscribe(e){return this._callbacks.add(e),()=>{this._callbacks.delete(e)}}constructor(e,t){this._loadFn=e,this._opts=t,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}}function c(e){return function(e,t){let _=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null},t),a=null;function i(){if(!a){let t=new s(e,_);a={getCurrentValue:t.getCurrentValue.bind(t),subscribe:t.subscribe.bind(t),retry:t.retry.bind(t),promise:t.promise.bind(t)}}return a.promise()}if(!n){let e=_.webpack?_.webpack():_.modules;e&&r.push(t=>{for(let _ of e)if(t.includes(_))return i()})}function T(e,t){!function(){i();let e=o.default.useContext(l.LoadableContext);e&&Array.isArray(_.modules)&&_.modules.forEach(t=>{e(t)})}();let r=o.default.useSyncExternalStore(a.subscribe,a.getCurrentValue,a.getCurrentValue);return o.default.useImperativeHandle(t,()=>({retry:a.retry}),[]),o.default.useMemo(()=>{var t;return r.loading||r.error?o.default.createElement(_.loading,{isLoading:r.loading,pastDelay:r.pastDelay,timedOut:r.timedOut,error:r.error,retry:a.retry}):r.loaded?o.default.createElement((t=r.loaded)&&t.default?t.default:t,e):null},[e,r])}return T.preload=()=>i(),T.displayName="LoadableComponent",o.default.forwardRef(T)}(T,e)}function u(e,t){let _=[];for(;e.length;){let a=e.pop();_.push(a(t))}return Promise.all(_).then(()=>{if(e.length)return u(e,t)})}c.preloadAll=()=>new Promise((e,t)=>{u(i).then(e,t)}),c.preloadReady=e=>(void 0===e&&(e=[]),new Promise(t=>{let _=()=>(n=!0,t());u(r,e).then(_,_)})),window.__NEXT_PRELOADREADY=c.preloadReady;let d=c},2352:function(e,t,_){"use strict";function a(){console.log("InitTelemetry() called");let e={};return e.HEARTBEAT={custom_mode:0,type:0,autopilot:0,base_mode:0,system_status:0,mavlink_version:0},e.GPS_RAW_INT={time_usec:0,fix_type:0,lat:0,lon:0,alt:0,eph:0,epv:0,vel:0,cog:0,satellites_visible:0,alt_ellpisoid:0,h_acc:0,v_acc:0,vel_acc:0,hdg_acc:0,yaw:0},e.SCALED_IMU={time_boot_ms:0,xacc:0,yacc:0,zacc:0,xgyro:0,ygyro:0,zgyro:0,xmag:0,ymag:0,zmag:0,temperature:0},e.ATTITUDE={time_boot_ms:0,roll:0,pitch:0,yaw:0,rollspeed:0,pitchspeed:0,yawspeed:0},e.ATTITUDE_QUATERNION={time_boot_ms:0,q1:0,q2:0,q3:0,q4:0,rollspeed:0,pitchspeed:0,yawspeed:0,repr_offset_q:[0,0,0,0]},e.LOCAL_POSITION_NED={time_boot_ms:0,x:0,y:0,z:0,vx:0,vy:0,vz:0},e.GLOBAL_POSITION_INT={time_boot_ms:0,lat:0,lon:0,alt:0,relative_alt:0,vx:0,vy:0,vz:0,hdg:0},e.HIL_STATE={time_usec:0,roll:0,pitch:0,yaw:0,rollspeed:0,pitchspeed:0,yawspeed:0,lat:0,lon:0,alt:0,vx:0,vy:0,vz:0,xacc:0,yacc:0,zacc:0},e.DISTANCE_SENSOR={time_boot_ms:0,min_distance:0,max_distance:0,current_distance:0,type:0,id:0,orientation:0,covariance:0,horizontal_fov:0,vertical_fov:0,quaternion:[0,0,0,0],signal_quality:0},e.MISSION_ITEM_INT={target_system:0,target_component:0,seq:0,frame:0,command:0,current:0,autocontinue:0,param1:0,param2:0,param3:0,param4:0,x:0,y:0,z:0,mission_type:0},e.CAMERA_TRACKING_IMAGE_STATUS={tracking_status:0,tracking_mode:0,target_data:0,point_x:0,poit_y:0,radius:0,rec_top_x:0,rec_top_y:0,rec_bottom_x:0,rec_bottom_y:0},e.CAMERA_CAPTURE_STATUS={time_boot_ms:0,image_status:0,video_status:0,image_interval:0,recording_time_ms:0,available_capacity:0,image_count:0},e}function o(e,t){switch(e.mavpackettype){case"HEARTBEAT":t.HEARTBEAT.custom_mode=e.custom_mode,t.HEARTBEAT.type=e.type,t.HEARTBEAT.autopilot=e.autopilot,t.HEARTBEAT.base_mode=e.base_mode,t.HEARTBEAT.system_status=e.system_status,t.HEARTBEAT.mavlink_version=e.mavlink_version,console.log("heartbeat");break;case"GPS_RAW_INT":t.GPS_RAW_INT.time_usec=e.time_usec,t.GPS_RAW_INT.fix_type=e.fix_type,t.GPS_RAW_INT.lat=1e-7*e.lat,t.GPS_RAW_INT.lon=1e-7*e.lon,t.GPS_RAW_INT.alt=.001*e.fix_type,t.GPS_RAW_INT.eph=e.eph,t.GPS_RAW_INT.epv=e.epv,t.GPS_RAW_INT.vel=.01*e.vel,t.GPS_RAW_INT.cog=.01*e.cog,t.GPS_RAW_INT.satellites_visible=e.satellites_visible,t.GPS_RAW_INT.alt_ellpisoid=e.alt_ellpisoid,t.GPS_RAW_INT.h_acc=.001*e.h_acc,t.GPS_RAW_INT.v_acc=.001*e.v_acc,t.GPS_RAW_INT.vel_acc=.001*e.vel_acc,t.GPS_RAW_INT.hdg_acc=.001*e.hdg_acc,t.GPS_RAW_INT.yaw=.01*e.yaw;break;case"SCALED_IMU":t.SCALED_IMU.time_boot_ms=e.time_boot_ms,t.SCALED_IMU.xacc=e.xacc,t.SCALED_IMU.yacc=e.yacc,t.SCALED_IMU.zacc=e.zacc,t.SCALED_IMU.xgyro=e.xgyro,t.SCALED_IMU.ygyro=e.ygyro,t.SCALED_IMU.zgyro=e.zgyro,t.SCALED_IMU.xmag=e.xmag,t.SCALED_IMU.ymag=e.ymag,t.SCALED_IMU.zmag=e.zmag,t.SCALED_IMU.temperature=e.temperature;break;case"ATTITUDE":t.ATTITUDE.time_boot_ms=e.time_boot_ms,t.ATTITUDE.roll=e.roll,t.ATTITUDE.pitch=e.pitch,t.ATTITUDE.yaw=e.yaw,t.ATTITUDE.rollspeed=e.rollspeed,t.ATTITUDE.pitchspeed=e.pitchspeed,t.ATTITUDE.yawspeed=e.yawspeed;break;case"ATTITUDE_QUATERNION":t.ATTITUDE_QUATERNION.time_boot_ms=e.time_boot_ms,t.ATTITUDE_QUATERNION.q1=e.q1,t.ATTITUDE_QUATERNION.q2=e.q2,t.ATTITUDE_QUATERNION.q3=e.q3,t.ATTITUDE_QUATERNION.q4=e.q4,t.ATTITUDE_QUATERNION.rollspeed=e.rollspeed,t.ATTITUDE_QUATERNION.pitchspeed=e.pitchspeed,t.ATTITUDE_QUATERNION.yawspeed=e.yawspeed,t.ATTITUDE_QUATERNION.repr_offset_q=e.repr_offset_q;break;case"LOCAL_POSITION_NED":t.LOCAL_POSITION_NED.time_boot_ms=e.time_boot_ms,t.LOCAL_POSITION_NED.x=e.x,t.LOCAL_POSITION_NED.y=e.y,t.LOCAL_POSITION_NED.z=e.z,t.LOCAL_POSITION_NED.vx=e.vx,t.LOCAL_POSITION_NED.vy=e.vy,t.LOCAL_POSITION_NED.vz=e.vz;break;case"GLOBAL_POSITION_INT":t.GLOBAL_POSITION_INT.time_boot_ms=e.time_boot_ms,t.GLOBAL_POSITION_INT.lat=1e-7*e.lat,t.GLOBAL_POSITION_INT.lon=1e-7*e.lon,t.GLOBAL_POSITION_INT.alt=.001*e.alt,t.GLOBAL_POSITION_INT.relative_alt=.001*e.relative_alt,t.GLOBAL_POSITION_INT.vx=.01*e.vx,t.GLOBAL_POSITION_INT.vy=.01*e.vy,t.GLOBAL_POSITION_INT.vz=.01*e.vz,t.GLOBAL_POSITION_INT.vz=.01*e.vz;break;case"HIL_STATE":t.HIL_STATE.time_usec=e.time_usec,t.HIL_STATE.roll=e.roll,t.HIL_STATE.pitch=e.pitch,t.HIL_STATE.yaw=e.yaw,t.HIL_STATE.rollspeed=e.rollspeed,t.HIL_STATE.pitchspeed=e.pitchspeed,t.HIL_STATE.yawspeed=e.yawspeed,t.HIL_STATE.lat=1e-7*e.lat,t.HIL_STATE.lon=1e-7*e.lon,t.HIL_STATE.alt=.001*e.alt,t.HIL_STATE.vx=.001*e.vx,t.HIL_STATE.vy=.001*e.vy,t.HIL_STATE.vz=.001*e.vz,t.HIL_STATE.xacc=e.xacc,t.HIL_STATE.yacc=e.yacc,t.HIL_STATE.zacc=e.zacc;break;case"DISTANCE_SENSOR":t.DISTANCE_SENSOR.time_boot_ms=e.time_boot_ms,t.DISTANCE_SENSOR.min_distance=.01*e.min_distance,t.DISTANCE_SENSOR.max_distance=.01*e.max_distance,t.DISTANCE_SENSOR.current_distance=.01*e.current_distance,t.DISTANCE_SENSOR.type=e.type,t.DISTANCE_SENSOR.id=e.id,t.DISTANCE_SENSOR.orientation=e.orientation,t.DISTANCE_SENSOR.covariance=e.covariance,t.DISTANCE_SENSOR.horizontal_fov=e.horizontal_fov,t.DISTANCE_SENSOR.vertical_fov=e.vertical_fov,t.DISTANCE_SENSOR.quaternion=e.quaternion,t.DISTANCE_SENSOR.signal_quality=e.signal_quality;break;case"MISSION_ITEM_INT":t.MISSION_ITEM_INT.target_system=e.target_system,t.MISSION_ITEM_INT.target_component=e.target_component,t.MISSION_ITEM_INT.seq=e.seq,t.MISSION_ITEM_INT.frame=e.frame,t.MISSION_ITEM_INT.command=e.command,t.MISSION_ITEM_INT.current=e.current,t.MISSION_ITEM_INT.autocontinue=e.autocontinue,t.MISSION_ITEM_INT.param1=e.param1,t.MISSION_ITEM_INT.param2=e.param2,t.MISSION_ITEM_INT.param3=e.param3,t.MISSION_ITEM_INT.param4=e.param4,t.MISSION_ITEM_INT.x=e.x,t.MISSION_ITEM_INT.y=e.y,t.MISSION_ITEM_INT.z=e.z,t.MISSION_ITEM_INT.mission_type=e.mission_type;break;case"CAMERA_TRACKING_IMAGE_STATUS":t.CAMERA_TRACKING_IMAGE_STATUS.tracking_status=e.tracking_status,t.CAMERA_TRACKING_IMAGE_STATUS.tracking_mode=e.tracking_mode,t.CAMERA_TRACKING_IMAGE_STATUS.target_data=e.target_data,t.CAMERA_TRACKING_IMAGE_STATUS.point_x=e.point_x,t.CAMERA_TRACKING_IMAGE_STATUS.point_y=e.point_y,t.CAMERA_TRACKING_IMAGE_STATUS.radius=e.raidus,t.CAMERA_TRACKING_IMAGE_STATUS.rec_top_x=e.rec_top_x,t.CAMERA_TRACKING_IMAGE_STATUS.rec_top_y=e.rec_top_y,t.CAMERA_TRACKING_IMAGE_STATUS.rec_bottom_x=e.rec_bottom_x,t.CAMERA_TRACKING_IMAGE_STATUS.rec_bottom_y=e.rec_bottom_y;break;case"CAMERA_CAPTURE_STATUS":t.CAMERA_CAPTURE_STATUS.time_boot_ms=e.time_boot_ms,t.CAMERA_CAPTURE_STATUS.image_status=e.image_status,t.CAMERA_CAPTURE_STATUS.video_status=e.video_status,t.CAMERA_CAPTURE_STATUS.image_interval=e.image_interval,t.CAMERA_CAPTURE_STATUS.recording_time_ms=e.recording_time_ms,t.CAMERA_CAPTURE_STATUS.available_capacity=e.available_capacity,t.CAMERA_CAPTURE_STATUS.image_count=e.image_count}return t}_.d(t,{U:function(){return o},u:function(){return a}})},4876:function(e,t,_){"use strict";_.r(t),_.d(t,{default:function(){return S}});var a=_(5893),o=_(5152),l=_.n(o);_(6486);var i=_(9704),r=_(7294),n=_(2533),T=_(2352),s=_(39);let c=l()(()=>Promise.all([_.e(445),_.e(715),_.e(154),_.e(206),_.e(421),_.e(325),_.e(969)]).then(_.bind(_,7264)),{loadableGenerated:{webpack:()=>[7264]},ssr:!1});l()(()=>Promise.all([_.e(445),_.e(715),_.e(154),_.e(206),_.e(312),_.e(558)]).then(_.bind(_,9558)),{loadableGenerated:{webpack:()=>[9558]},ssr:!1});let u=(0,T.u)(),d=[],I=0,A=e=>{d.push(e)};function S(){let e=(0,r.useContext)(s.ZP),[t,_]=(0,r.useState)({roll:0,pitch:0});return(0,r.useEffect)(()=>{let t;let _=()=>{if(I+=1,d.length>0&&I%2==0){var a,o,l,i,r,n,s,c,A,S,E,m;let t=d.pop(),_=JSON.parse(t);u=(0,T.U)(_,u),e.setFlightStates({roll:null==u?void 0:null===(a=u.HIL_STATE)||void 0===a?void 0:a.roll,pitch:null==u?void 0:null===(o=u.HIL_STATE)||void 0===o?void 0:o.pitch,heading:null==u?void 0:null===(l=u.HIL_STATE)||void 0===l?void 0:l.yaw,airspeed:(null==u?void 0:null===(i=u.HIL_STATE)||void 0===i?void 0:i.vx)*(null==u?void 0:null===(r=u.HIL_STATE)||void 0===r?void 0:r.vx)+(null==u?void 0:null===(n=u.HIL_STATE)||void 0===n?void 0:n.vy)*(null==u?void 0:null===(s=u.HIL_STATE)||void 0===s?void 0:s.vy)+(null==u?void 0:null===(c=u.HIL_STATE)||void 0===c?void 0:c.vz)*(null==u?void 0:null===(A=u.HIL_STATE)||void 0===A?void 0:A.vz),altitude:null==u?void 0:null===(S=u.HIL_STATE)||void 0===S?void 0:S.alt,latitude:null==u?void 0:null===(E=u.HIL_STATE)||void 0===E?void 0:E.lat,longitude:null==u?void 0:null===(m=u.HIL_STATE)||void 0===m?void 0:m.lon}),d=[]}t=requestAnimationFrame(_)};return t=requestAnimationFrame(_),n.W.on("HIL_STATE",A),()=>{n.W.off("HIL_STATE"),cancelAnimationFrame(t)}}),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c,{}),(0,a.jsx)("div",{className:"fixed left-4 bottom-4 flex items-center justify-center p-1 rounded-lg bg-black",children:(0,a.jsx)(i.ph,{size:400,states:null==e?void 0:e.flightStates})})]})}},5152:function(e,t,_){e.exports=_(5677)}},function(e){e.O(0,[764,662,774,888,179],function(){return e(e.s=630)}),_N_E=e.O()}]);