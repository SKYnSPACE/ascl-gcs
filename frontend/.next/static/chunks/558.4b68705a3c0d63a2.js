(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[558],{9558:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return f}});var r=i(5893),l=i(7294),o=i(6206),s=i(3403),n=i(2237),u=i(1415),d=i(8340),a=i(6486),c=i.n(a);i(4472);var g=i(8866),b=i(6716),h=i(1335);i(4384);var p=i(696);function y(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.filter(Boolean).join(" ")}function f(e){let{showBorder:t=!1,onTilesLoad:i=null}=e,a={longitude:-122.4,latitude:37.8,zoom:11,pitch:0,bearing:0,maxPitch:85},[f,x]=(0,l.useState)(a),[m,v]=(0,l.useState)({width:void 0,height:void 0}),w=(0,l.useRef)(null);(0,l.useEffect)(()=>{let e=()=>{v({width:window.innerWidth,height:window.innerHeight}),k(e=>{let t={...e,width:window.innerWidth,height:window.innerHeight};return w.current=new g.DW(t),t})};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let[P,k]=(0,l.useState)({width:"100vw",height:"100vh",latitude:36.3754605,longitude:127.3606474,zoom:16,bearing:0,pitch:25,...m}),[j,L]=(0,l.useState)({maxPitch:85});(0,l.useEffect)(()=>{w.current=new g.DW({...P,width:m.width,height:m.height})},[P]);let[C,N]=(0,l.useState)([]),[A,G]=(0,l.useState)(0);C.map(e=>[e.longitude,e.latitude]);let Z=()=>{let e=h.TuJ(C.map(e=>[parseFloat(e.longitude),parseFloat(e.latitude)]));G(parseFloat(h.kE(e,{units:"kilometers"})).toPrecision(4))};(0,l.useCallback)(e=>{},[]),(0,l.useCallback)((e,t)=>{let i=[{...C.find(e=>e.id===t),latitude:parseFloat(e.lngLat.lat).toPrecision(8),longitude:parseFloat(e.lngLat.lng).toPrecision(9)}],r=C.map(e=>i.find(t=>t.id===e.id)||e);N(r)},[C]),(0,l.useCallback)(e=>{},[]);let[W,S]=(0,l.useState)("");""===W||C.filter(e=>e.id.toLowerCase().includes(W.toLowerCase()));let[_,D]=(0,l.useState)(!1),[E,M]=(0,l.useState)(!1),[I,F]=(0,l.useState)({id:"HOME",latitude:37.4604491,longitude:126.4441687,altitudeAGL:0,speed:3,priority:0,subPriority:1,icon:n.Z,color:"bg-rose-500",fillColor:"fill-rose-500"}),[H,R]=(0,l.useState)(!1),[T,z]=(0,l.useState)({lngLat:[0,0]}),[B,J]=(0,l.useState)({visible:!1,x:0,y:0,lngLat:[0,0]}),O=(e,t,i)=>[...i.slice(0,e),t,...i.slice(e)],Y=e=>{e.preventDefault()},Q=()=>{let e=c().findLastIndex(C,{priority:50}),t={};return 0!=B.lngLat[0]&&0!=B.lngLat[1]?((t=-1==e?{...C[parseInt(C.length/2)-1]||p.D3}:{...C[e]}).latitude=B.lngLat[1].toFixed(8),t.longitude=B.lngLat[0].toFixed(8)):t=-1==e?{...C[parseInt(C.length/2)-1]||p.D3}:{...C[e]},t.id="WP_".concat(t.subPriority+1),t.priority=50,t.subPriority=t.subPriority+1,t.icon=d.Z,t.color="bg-blue-500",t.fillColor="fill-blue-500",-1==e?N([...O(parseInt(C.length/2),t,C)]):N([...O(e+1,t,C)]),t},V=e=>{e.preventDefault(),F(Q()),M(!0)};return(0,l.useEffect)(()=>{},[]),(0,l.useEffect)(()=>{void 0!=C&&C.length>1&&Z()},[C]),window.devicePixelRatio,(0,r.jsx)("div",{className:"flex items-stretch h-screen w-screen min-h-screen",children:(0,r.jsxs)("div",{className:"relative w-full h-full",onContextMenu:e=>{if(e.preventDefault(),!H){let{clientX:t,clientY:i}=e,r=new g.DW({...P,width:m.width,height:m.height}),l=r.unproject([t,i]);console.log(l),J({visible:!0,x:e.clientX,y:e.clientY,lngLat:l})}},onClick:()=>{J({visible:!1,x:0,y:0,lngLat:[0,0]})},onMouseDown:()=>{R(!1)},onMouseMove:e=>{R(!0);let{clientX:t,clientY:i}=e;if(w.current){let e=w.current.unproject([t,i]),r=b.eH(e,5),l="".concat(r.slice(0,3)," ").concat(r.slice(3,5)," ").concat(r.slice(5,10)," ").concat(r.slice(10,15));z({lngLat:e,mgrs:l})}},children:[(0,r.jsx)(o.Z,{initialViewState:a,onViewStateChange:e=>{let{viewState:t}=e;x(t)},controller:{doubleClickZoom:!1,touchRotate:!0},children:(0,r.jsx)(s.D5,{mapStyle:"mapbox://styles/skynspace/cl1w18kj2000q14ujwxgkmfgo",mapboxAccessToken:"pk.eyJ1Ijoic2t5bnNwYWNlIiwiYSI6ImNsMXcweGpsdDJvMDczam10aHJtc2piZXIifQ.hV1Q4U1pTDPE1gyanslMxQ"})}),B.visible&&(0,r.jsxs)("div",{className:"fixed",style:{top:B.y,left:B.x},children:[(0,r.jsx)(u.Z,{className:"-mx-4 -my-4 w-8 h-8 text-gray-900 bg-white/60 rounded-t-2xl rounded-bl-2xl"}),(0,r.jsxs)("div",{className:"mx-4 my-4 bg-gray-950 shadow-xl rounded-md ring-1 ring-gray-400 divide-y divide-gray-300",children:[(0,r.jsxs)("button",{className:"group flex w-full text-sm rounded-t-md cursor-pointer px-2 py-1 text-gray-300 hover:bg-gray-200 hover:text-gray-900",onClick:e=>V(e),children:[(0,r.jsx)("span",{className:y("text-gray-900 border-gray-200 group-hover:border-sky-500 group-hover:text-sky-500","flex h-6 w-6 shrink-0 items-center justify-center rounded-lg border text-[0.625rem] font-medium bg-white"),children:"⌘W"}),(0,r.jsx)("span",{className:"ml-2 group-hover:border-sky-600 group-hover:text-sky-600",children:"Add waypoint here"})]}),(0,r.jsxs)("p",{className:"group flex text-sm cursor-pointer px-2 py-1 text-gray-300 hover:bg-gray-200 hover:text-gray-900",onClick:e=>Y(e),children:[(0,r.jsx)("span",{className:y("text-gray-900 border-gray-200 group-hover:border-sky-500 group-hover:text-sky-500","flex h-6 w-6 shrink-0 items-center justify-center rounded-lg border text-[0.625rem] font-medium bg-white"),children:"⌘H"}),(0,r.jsx)("span",{className:"ml-2 group-hover:border-sky-500 group-hover:text-sky-500",children:"Mark as home-position"})]}),(0,r.jsxs)("p",{className:"group flex text-sm cursor-pointer px-2 py-1 text-gray-300 hover:bg-gray-200 hover:text-gray-900",children:[(0,r.jsx)("span",{className:y("text-gray-900 border-gray-200 group-hover:border-sky-500 group-hover:text-sky-500","flex h-6 w-6 shrink-0 items-center justify-center rounded-lg border text-[0.625rem] font-medium bg-white"),children:"⌘D"}),(0,r.jsx)("span",{className:"ml-2 group-hover:border-sky-500 group-hover:text-sky-500",children:"Mark as destination"})]}),(0,r.jsxs)("p",{className:"group flex text-sm rounded-b-md cursor-pointer px-2 py-1 text-gray-300 hover:bg-gray-200 hover:text-gray-900",children:[(0,r.jsx)("span",{className:y("text-gray-900 border-gray-200 group-hover:border-sky-500 group-hover:text-sky-500","flex h-6 w-6 shrink-0 items-center justify-center rounded-lg border text-[0.625rem] font-medium bg-white"),children:"⌘?"}),(0,r.jsx)("span",{className:"ml-2 group-hover:border-sky-500 group-hover:text-sky-500",children:"Where is this?"})]})]})]})]})})}i(442)},442:function(e,t,i){"use strict";var r=i(5893),l=i(7294),o=i(9583);t.Z=function(){let[e,t]=(0,l.useState)(!1);return(0,r.jsx)("button",{className:"flex justify-center items-center w-7 h-7 border border-gray-400 text-gray-400 bg-white rounded hover:bg-gray-400 hover:text-white hover:border-gray-300",onClick:()=>{document.fullscreenElement?document.exitFullscreen&&(document.exitFullscreen(),t(!1)):(document.documentElement.requestFullscreen(),t(!0))},children:e?(0,r.jsx)(o.Y7H,{className:"h-4 w-4"}):(0,r.jsx)(o.a1O,{className:"h-4 w-4"})})}},4384:function(e,t,i){"use strict";var r=i(5893),l=i(7294);t.Z=l.memo(function(e){let{size:t=20,label:i,fillColor:l="fill-rose-500"}=e;return(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)("div",{children:(0,r.jsx)("svg",{height:t,viewBox:"0 0 24 24",className:function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.filter(Boolean).join(" ")}("stroke-2 stroke-white",l),children:(0,r.jsx)("path",{d:"M20.2,15.7L20.2,15.7c1.1-1.6,1.8-3.6,1.8-5.7c0-5.6-4.5-10-10-10S2,4.5,2,10c0,2,0.6,3.9,1.6,5.4c0,0.1,0.1,0.2,0.2,0.3\n  c0,0,0.1,0.1,0.1,0.2c0.2,0.3,0.4,0.6,0.7,0.9c2.6,3.1,7.4,7.6,7.4,7.6s4.8-4.5,7.4-7.5c0.2-0.3,0.5-0.6,0.7-0.9\n  C20.1,15.8,20.2,15.8,20.2,15.7z"})})}),(0,r.jsx)("div",{className:"absolute ml-16 mt-5 px-1 bg-white/50",children:(0,r.jsx)("p",{className:"text-center text-black text-sm font-bold",children:i})})]})})},696:function(e,t,i){"use strict";i.d(t,{D3:function(){return s},gG:function(){return n},h9:function(){return u}});var r=i(2237),l=i(9696),o=i(8340);let s={latitude:37.557195,longitude:126.795112,altitudeAGL:0,speed:3,subPriority:0},n=[{id:"HOME",latitude:37.572098,longitude:126.773707,altitudeAGL:0,speed:5,priority:0,subPriority:0,icon:r.Z,color:"bg-rose-500",fillColor:"fill-rose-500"},{id:"WP_1",latitude:37.572098,longitude:126.773707,altitudeAGL:1e3,speed:15,priority:50,subPriority:1,icon:o.Z,color:"bg-blue-500",fillColor:"fill-blue-500"},{id:"WP_2",latitude:37.587943,longitude:126.827151,altitudeAGL:1e3,speed:20,priority:50,subPriority:2,icon:o.Z,color:"bg-blue-500",fillColor:"fill-blue-500"},{id:"WP_3",latitude:37.536468,longitude:126.914962,altitudeAGL:1e3,speed:25,priority:50,subPriority:3,icon:o.Z,color:"bg-blue-500",fillColor:"fill-blue-500"},{id:"WP_4",latitude:37.508751,longitude:126.980459,altitudeAGL:1e3,speed:20,priority:50,subPriority:4,icon:o.Z,color:"bg-blue-500",fillColor:"fill-blue-500"},{id:"WP_5",latitude:37.536798,longitude:127.026495,altitudeAGL:1e3,speed:15,priority:50,subPriority:5,icon:o.Z,color:"bg-blue-500",fillColor:"fill-blue-500"},{id:"WP_6",latitude:37.527455,longitude:127.058391,altitudeAGL:1e3,speed:10,priority:50,subPriority:6,icon:o.Z,color:"bg-blue-500",fillColor:"fill-blue-500"},{id:"DEST",latitude:37.511865,longitude:127.063515,altitudeAGL:0,speed:5,priority:100,subPriority:0,icon:l.LocationMarkerIcon,color:"bg-rose-500",fillColor:"fill-rose-500"}],u=[{id:"HOME",latitude:37.4604491,longitude:126.4441687,altitudeAGL:0,speed:3,priority:0,subPriority:0,icon:r.Z,color:"bg-rose-500",fillColor:"fill-rose-500"},{id:"TR_F",latitude:37.4604491,longitude:126.4441687,altitudeAGL:1e3,speed:3,priority:10,subPriority:0,icon:l.RefreshIcon,color:"bg-amber-500",fillColor:"fill-amber-500"},{id:"WP_1",latitude:37.499763,longitude:126.408383,altitudeAGL:1e3,speed:15,priority:50,subPriority:1,icon:o.Z,color:"bg-blue-500",fillColor:"fill-blue-500"},{id:"WP_2",latitude:37.557485,longitude:126.600064,altitudeAGL:1e3,speed:15,priority:50,subPriority:2,icon:o.Z,color:"bg-blue-500",fillColor:"fill-blue-500"},{id:"WP_3",latitude:37.570447,longitude:126.63851,altitudeAGL:1e3,speed:15,priority:50,subPriority:3,icon:o.Z,color:"bg-blue-500",fillColor:"fill-blue-500"},{id:"WP_4",latitude:37.574271,longitude:126.757715,altitudeAGL:1e3,speed:15,priority:50,subPriority:4,icon:o.Z,color:"bg-blue-500",fillColor:"fill-blue-500"},{id:"WP_5",latitude:37.602322,longitude:126.807035,altitudeAGL:1e3,speed:15,priority:50,subPriority:5,icon:o.Z,color:"bg-blue-500",fillColor:"fill-blue-500"},{id:"WP_6",latitude:37.507934,longitude:126.980449,altitudeAGL:1e3,speed:15,priority:50,subPriority:6,icon:o.Z,color:"bg-blue-500",fillColor:"fill-blue-500"},{id:"WP_7",latitude:37.537012,longitude:127.026548,altitudeAGL:1e3,speed:15,priority:50,subPriority:7,icon:o.Z,color:"bg-blue-500",fillColor:"fill-blue-500"},{id:"WP_8",latitude:37.529701,longitude:127.055958,altitudeAGL:1e3,speed:15,priority:50,subPriority:8,icon:o.Z,color:"bg-blue-500",fillColor:"fill-blue-500"},{id:"TR_B",latitude:37.512388,longitude:127.063284,altitudeAGL:1e3,speed:3,priority:90,subPriority:0,icon:l.RefreshIcon,color:"bg-amber-500",fillColor:"fill-amber-500"},{id:"DEST",latitude:37.512388,longitude:127.063284,altitudeAGL:0,speed:3,priority:100,subPriority:0,icon:l.LocationMarkerIcon,color:"bg-rose-500",fillColor:"fill-rose-500"}]},4472:function(){}}]);